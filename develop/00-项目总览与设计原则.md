# 项目总览与设计原则

## 对齐信息

- 对齐基线：main@17f0f8c957a4c0f95ebb054725f04b21e0e6861b
- 实现状态：已落地（仓库范围）
- 证据路径：`src/apps/core_engine_main.cpp`、`include/quant_hft/interfaces/`、`python/quant_hft/runtime/strategy_runner.py`、`scripts/build/bootstrap.sh`
- 最后更新：2026-02-11

## 当前实现边界

当前仓库已经实现的主链路是“C++ 核心引擎 + Python 策略运行时 + Redis 策略桥”闭环：
- C++ `core_engine`：CTP 接入、基础风控、订单状态机、WAL、存储写入。
- Python `StrategyRuntime` + `StrategyRunner`：策略回调、状态消费、意图发布、订单回报回调。
- 存储层：Realtime cache + timeseries 抽象，支持 in-memory 与 external 驱动模式。

当前代码已实现“研究回测闭环 + 仓库内可观测性 + 演练级部署灾备”主能力，生产环境可按同一接口继续扩展部署规模。

## 设计原则（当前有效）

1. 核心交易路径优先保证确定性与可测性，接口以 `include/quant_hft/interfaces/*` 为准。
2. 策略侧优先保证开发效率，Python 层通过合约对象与 C++ 解耦。
3. 文档以“代码事实优先”，凡路径、命令、配置必须可在仓库中验证。
4. 新能力进入主链路前，必须补齐单测与 `./scripts/build/bootstrap.sh` 回归。

## 迭代目标（仓库可实施）

1. 研究平台完整化：因子流水线、绩效归因平台、研究工单化流程。
2. 高级执行与风控：更细粒度规则引擎、执行算法与回放评估。
3. 生产级运维体系：统一告警平台、自动化发布/回滚、持续灾备演练。

## 落地依赖条件

- 先冻结合约字段与配置键，避免跨模块接口频繁变更。
- 明确外部依赖部署约束（Redis/Timescale/网络凭据）与环境分层。
- 形成可重复的端到端演练脚本与验收证据模板。

## 扩展实施触发条件

- 对应能力在 `develop/00-未完成能力补齐路线图.md` 中被列入当前迭代。
- 验收标准可自动化验证（单测、集成演练或脚本化检查）。
- 关键路径变更已完成风险评审并具备回滚方案。
