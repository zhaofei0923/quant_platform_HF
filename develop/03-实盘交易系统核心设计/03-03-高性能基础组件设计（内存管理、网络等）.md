# 高性能基础组件设计（内存管理、网络等）

## 对齐信息

- 对齐基线：main@17f0f8c957a4c0f95ebb054725f04b21e0e6861b
- 实现状态：已落地（仓库范围）
- 证据路径：`include/quant_hft/core/object_pool.h`、`src/core/perf/object_pool.cpp`、`src/apps/hotpath_benchmark_main.cpp`、`tests/unit/core/object_pool_test.cpp`、`scripts/perf/run_hotpath_bench.py`
- 最后更新：2026-02-11

## 当前实现边界

当前仓库中可归类为“基础性能组件”的已实现部分：
- `QueryScheduler`：查询限流与队列调度。
- `StorageClientPool`：Redis/Timescale 客户端池化与重试。
- `TimescaleBufferedEventStore`：后台批量刷写。
- `ObjectPool`：热点对象复用与低开销分配回收。
- `hotpath_benchmark_main` + perf smoke：基准结果落盘与回归门禁。

当前已落地：对象池与批处理优化；零拷贝网络栈与 NUMA 亲和策略以可插拔扩展接口保留。

## 能力扩展与当前实现

1. 高频内存管理策略（对象池、分配器优化）。
2. 网络 I/O 优化（批处理、协议栈调优）。
3. 压测基线平台与性能回归门禁。

## 落地依赖条件

- 先建立统一性能指标与基准测试方法。
- 明确热点路径瓶颈，避免过早优化。
- 保证优化前后业务语义一致。

## 扩展实施触发条件

- 有可量化瓶颈数据支撑。
- 优化方案配套回归与回滚路径。
- 性能收益达到预设阈值后再合并。
