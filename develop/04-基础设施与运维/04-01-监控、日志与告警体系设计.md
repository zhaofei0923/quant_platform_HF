# 监控、日志与告警体系设计

## 对齐信息

- 对齐基线：main@f1f98c884be1538c06acff265f2904745175be96
- 实现状态：已落地（仓库范围）
- 证据路径：`src/apps/reconnect_evidence_cli_main.cpp`、`src/apps/ops_health_report_cli_main.cpp`、`src/apps/ops_alert_report_cli_main.cpp`、`docs/CTP_SIMNOW_RECONNECT_FAULT_INJECTION_RUNBOOK.md`
- 最后更新：2026-02-17

## 当前实现边界

当前仓库已落地“CLI 级可观测能力”：
- 重连演练与证据采集。
- 健康报告与告警报告生成。
- 关键链路完整性指标输出。
- CI 中的可观测性 smoke 与工件归档。

## 当前可执行能力

1. 重连演练与报告：
   - `./build/reconnect_evidence_cli --report_file docs/results/reconnect_fault_result.md --health_json_file docs/results/ops_health_report.json --health_markdown_file docs/results/ops_health_report.md --alert_json_file docs/results/ops_alert_report.json --alert_markdown_file docs/results/ops_alert_report.md`
2. 健康报告专项：
   - `./build/ops_health_report_cli --output_json docs/results/ops_health_report.json --output_markdown docs/results/ops_health_report.md`
3. 告警报告专项：
   - `./build/ops_alert_report_cli --output_json docs/results/ops_alert_report.json --output_markdown docs/results/ops_alert_report.md`

## 能力扩展与当前实现

1. 统一指标采集与告警路由体系。
2. 结构化日志聚合与检索策略。
3. 交易链路级可观测看板与故障自动归因。

## 落地依赖条件

- 指标命名、日志字段、阈值口径统一。
- 核心 SLI/SLO 分级与响应时限明确。
- 仿真环境至少完成一次端到端演练。
