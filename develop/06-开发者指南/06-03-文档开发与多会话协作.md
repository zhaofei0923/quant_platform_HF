# 文档开发与多会话协作

## 对齐信息

- 对齐基线：main@17f0f8c957a4c0f95ebb054725f04b21e0e6861b
- 实现状态：已落地
- 证据路径：`develop/`、`scripts/build/bootstrap.sh`、`~/.codex/superpowers/`
- 最后更新：2026-02-11

## 目的与边界

本文档说明如何在编写与维护本仓库文档时，使用多会话协作（多个 AI 会话/助手并行分工）提高产出效率。

重要说明：这里的“多会话协作/多 agent”仅用于文档开发流程，与量化平台系统架构无关，不代表系统需要引入新的运行时组件。

## 推荐工作流

### 1) 拆分任务

按文档拆分并行会话，例如：
- 会话 A：`develop/05-API文档/05-02-Python策略API参考.md`
- 会话 B：`develop/06-开发者指南/06-01-环境搭建与快速开始.md`
- 会话 C：`develop/07-部署与运维/07-01-系统部署手册.md`

### 2) 事实校验（必须）

每次写到路径、命令、模块名时，必须用命令校验：
- 路径：`rg --files`、`ls`
- 符号：`rg -n "symbol" src include python`
- 命令：至少在本地执行一遍关键命令

### 3) 统一口径

所有会话使用同一对齐基线 commit 和最后更新日期，避免“同一轮改动出现多个事实版本”。

### 4) 收口检查

提交前运行：

```bash
rg -n "多\s*Agent|ZeroMQ|ZMQ_BROKER|AgentManager|MarketStateAgent|OrderExecutionAgent|RiskControlAgent" develop
```

预期：不出现“平台多 Agent 架构”相关残留（仅允许本文件在“文档协作”语境中提及“多会话协作”）。

## 文档顶部模板（可复制）

```markdown
## 对齐信息

- 对齐基线：<填写 git commit>
- 实现状态：已落地 / 已落地（仓库范围）
- 证据路径：<填写真实代码路径>
- 最后更新：YYYY-MM-DD
```

## 模板示例与填写规范

示例：

```markdown
## 对齐信息

- 对齐基线：main@17f0f8c957a4c0f95ebb054725f04b21e0e6861b
- 实现状态：已落地（仓库范围）
- 证据路径：`src/apps/core_engine_main.cpp`、`python/quant_hft/runtime/strategy_runner.py`
- 最后更新：2026-02-11
```

填写规范：
- `对齐基线`：必须是当前核对 commit，禁止留空占位。
- `实现状态`：只允许 `已落地`、`已落地（仓库范围）` 两种。
- `证据路径`：至少 2 条且都能在仓库中定位。
- `最后更新`：使用绝对日期，避免“今天/昨天”相对时间。
