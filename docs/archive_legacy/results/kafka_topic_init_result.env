KAFKA_TOPIC_INIT_DRY_RUN=0
KAFKA_TOPIC_INIT_SUCCESS=true
KAFKA_TOPIC_INIT_FAILED_STEP=
KAFKA_TOPIC_INIT_COMPOSE_FILE=infra/docker-compose.single-host.yaml
KAFKA_TOPIC_INIT_PROJECT_NAME=quant-hft-single-host
KAFKA_TOPIC_INIT_ENV_FILE=infra/env/prodlike.env
KAFKA_TOPIC_INIT_SERVICE=kafka
KAFKA_TOPIC_INIT_BOOTSTRAP_SERVER=kafka:9092
KAFKA_TOPIC_INIT_TOPIC=
KAFKA_TOPIC_INIT_TOPICS=market.ticks.v1,quant_hft_pg.trading_core.orders,quant_hft_pg.trading_core.trades,quant_hft_pg.trading_core.position_detail,quant_hft_pg.trading_core.account_funds,quant_hft_pg.trading_core.risk_events
KAFKA_TOPIC_INIT_TOPIC_COUNT=6
KAFKA_TOPIC_INIT_PARTITIONS=6
KAFKA_TOPIC_INIT_REPLICATION_FACTOR=1
KAFKA_TOPIC_INIT_TOTAL_STEPS=12
STEP_1_NAME=create_market.ticks.v1
STEP_1_STATUS=ok
STEP_1_DURATION_MS=153
STEP_1_COMMAND=if docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic list --brokers kafka:9092 | awk 'NR>1 {print $1}' | grep -Fx 'market.ticks.v1' >/dev/null; then echo "topic already exists: market.ticks.v1"; else docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic create market.ticks.v1 --brokers kafka:9092 --partitions 6 --replicas 1; fi
STEP_2_NAME=verify_market.ticks.v1
STEP_2_STATUS=ok
STEP_2_DURATION_MS=152
STEP_2_COMMAND=docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic describe market.ticks.v1 --brokers kafka:9092
STEP_3_NAME=create_quant_hft_pg.trading_core.orders
STEP_3_STATUS=ok
STEP_3_DURATION_MS=153
STEP_3_COMMAND=if docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic list --brokers kafka:9092 | awk 'NR>1 {print $1}' | grep -Fx 'quant_hft_pg.trading_core.orders' >/dev/null; then echo "topic already exists: quant_hft_pg.trading_core.orders"; else docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic create quant_hft_pg.trading_core.orders --brokers kafka:9092 --partitions 6 --replicas 1; fi
STEP_4_NAME=verify_quant_hft_pg.trading_core.orders
STEP_4_STATUS=ok
STEP_4_DURATION_MS=184
STEP_4_COMMAND=docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic describe quant_hft_pg.trading_core.orders --brokers kafka:9092
STEP_5_NAME=create_quant_hft_pg.trading_core.trades
STEP_5_STATUS=ok
STEP_5_DURATION_MS=188
STEP_5_COMMAND=if docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic list --brokers kafka:9092 | awk 'NR>1 {print $1}' | grep -Fx 'quant_hft_pg.trading_core.trades' >/dev/null; then echo "topic already exists: quant_hft_pg.trading_core.trades"; else docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic create quant_hft_pg.trading_core.trades --brokers kafka:9092 --partitions 6 --replicas 1; fi
STEP_6_NAME=verify_quant_hft_pg.trading_core.trades
STEP_6_STATUS=ok
STEP_6_DURATION_MS=179
STEP_6_COMMAND=docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic describe quant_hft_pg.trading_core.trades --brokers kafka:9092
STEP_7_NAME=create_quant_hft_pg.trading_core.position_detail
STEP_7_STATUS=ok
STEP_7_DURATION_MS=206
STEP_7_COMMAND=if docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic list --brokers kafka:9092 | awk 'NR>1 {print $1}' | grep -Fx 'quant_hft_pg.trading_core.position_detail' >/dev/null; then echo "topic already exists: quant_hft_pg.trading_core.position_detail"; else docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic create quant_hft_pg.trading_core.position_detail --brokers kafka:9092 --partitions 6 --replicas 1; fi
STEP_8_NAME=verify_quant_hft_pg.trading_core.position_detail
STEP_8_STATUS=ok
STEP_8_DURATION_MS=173
STEP_8_COMMAND=docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic describe quant_hft_pg.trading_core.position_detail --brokers kafka:9092
STEP_9_NAME=create_quant_hft_pg.trading_core.account_funds
STEP_9_STATUS=ok
STEP_9_DURATION_MS=153
STEP_9_COMMAND=if docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic list --brokers kafka:9092 | awk 'NR>1 {print $1}' | grep -Fx 'quant_hft_pg.trading_core.account_funds' >/dev/null; then echo "topic already exists: quant_hft_pg.trading_core.account_funds"; else docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic create quant_hft_pg.trading_core.account_funds --brokers kafka:9092 --partitions 6 --replicas 1; fi
STEP_10_NAME=verify_quant_hft_pg.trading_core.account_funds
STEP_10_STATUS=ok
STEP_10_DURATION_MS=158
STEP_10_COMMAND=docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic describe quant_hft_pg.trading_core.account_funds --brokers kafka:9092
STEP_11_NAME=create_quant_hft_pg.trading_core.risk_events
STEP_11_STATUS=ok
STEP_11_DURATION_MS=175
STEP_11_COMMAND=if docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic list --brokers kafka:9092 | awk 'NR>1 {print $1}' | grep -Fx 'quant_hft_pg.trading_core.risk_events' >/dev/null; then echo "topic already exists: quant_hft_pg.trading_core.risk_events"; else docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic create quant_hft_pg.trading_core.risk_events --brokers kafka:9092 --partitions 6 --replicas 1; fi
STEP_12_NAME=verify_quant_hft_pg.trading_core.risk_events
STEP_12_STATUS=ok
STEP_12_DURATION_MS=168
STEP_12_COMMAND=docker compose -f infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env exec -T kafka rpk topic describe quant_hft_pg.trading_core.risk_events --brokers kafka:9092
