CUTOVER_ENV=single-host-ubuntu
CUTOVER_WINDOW_LOCAL=2026-02-13T09:00:00+08:00
CUTOVER_CTP_CONFIG_PATH=configs/prod/ctp.yaml
CUTOVER_DRY_RUN=1
CUTOVER_SUCCESS=true
CUTOVER_TOTAL_STEPS=8
CUTOVER_FAILED_STEP=
CUTOVER_MONITOR_MINUTES=30
CUTOVER_MONITOR_KEYS=order_latency_p99_ms,breaker_state,query_rate_violation,reconnect_p99_s,kafka_lag_ms,clickhouse_ingest_delay_ms
CUTOVER_TRIGGERED_ROLLBACK=false
CUTOVER_STARTED_UTC=2026-02-17T08:10:32Z
CUTOVER_COMPLETED_UTC=2026-02-17T08:10:32Z
CUTOVER_DURATION_SECONDS=0.000
STEP_1_NAME=stop_old_core_engine
STEP_1_STATUS=simulated_ok
STEP_1_DURATION_MS=0
STEP_1_EXIT_CODE=0
STEP_1_COMMAND=bash -lc 'if [[ -f /tmp/quant_hft_core_engine.pid ]]; then pid=$(cat /tmp/quant_hft_core_engine.pid); kill "$pid" 2>/dev/null || true; rm -f /tmp/quant_hft_core_engine.pid; fi; true'
STEP_2_NAME=precheck
STEP_2_STATUS=simulated_ok
STEP_2_DURATION_MS=0
STEP_2_EXIT_CODE=0
STEP_2_COMMAND=bash -lc './build/reconnect_evidence_cli --report_file docs/results/reconnect_fault_result.md --health_json_file docs/results/ops_health_report.json --health_markdown_file docs/results/ops_health_report.md --alert_json_file docs/results/ops_alert_report.json --alert_markdown_file docs/results/ops_alert_report.md --strategy-engine-chain-status complete --strategy-engine-chain-source in_process --strategy-engine-state-key-count 2 --strategy-engine-intent-count 1 --strategy-engine-order-key-count 1 --storage-redis-health healthy --storage-timescale-health healthy'
STEP_3_NAME=bootstrap_infra
STEP_3_STATUS=simulated_ok
STEP_3_DURATION_MS=0
STEP_3_EXIT_CODE=0
STEP_3_COMMAND=bash scripts/infra/bootstrap_prodlike.sh --profile single-host --compose-file infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env --execute --output-file docs/results/single_host_bootstrap_result.env
STEP_4_NAME=init_kafka_topic
STEP_4_STATUS=simulated_ok
STEP_4_DURATION_MS=0
STEP_4_EXIT_CODE=0
STEP_4_COMMAND=bash scripts/infra/init_kafka_topics.sh --compose-file infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env --execute --output-file docs/results/kafka_topic_init_result.env
STEP_5_NAME=init_clickhouse_schema
STEP_5_STATUS=simulated_ok
STEP_5_DURATION_MS=0
STEP_5_EXIT_CODE=0
STEP_5_COMMAND=bash scripts/infra/init_clickhouse_schema.sh --compose-file infra/docker-compose.single-host.yaml --project-name quant-hft-single-host --env-file infra/env/prodlike.env --execute --output-file docs/results/clickhouse_schema_init_result.env
STEP_6_NAME=init_debezium_connector
STEP_6_STATUS=simulated_ok
STEP_6_DURATION_MS=0
STEP_6_EXIT_CODE=0
STEP_6_COMMAND=bash scripts/infra/init_debezium_connectors.sh --connect-url http://localhost:8083 --execute --output-file docs/results/debezium_connector_init_result.env
STEP_7_NAME=start_new_core_engine
STEP_7_STATUS=simulated_ok
STEP_7_DURATION_MS=0
STEP_7_EXIT_CODE=0
STEP_7_COMMAND=bash -lc 'nohup ./build/core_engine configs/prod/ctp.yaml >/tmp/quant_hft_core_engine.log 2>&1 & echo $! >/tmp/quant_hft_core_engine.pid'
STEP_8_NAME=warmup_query
STEP_8_STATUS=simulated_ok
STEP_8_DURATION_MS=0
STEP_8_EXIT_CODE=0
STEP_8_COMMAND=bash -lc 'sleep 1; if [[ -f /tmp/quant_hft_core_engine.pid ]]; then kill -0 $(cat /tmp/quant_hft_core_engine.pid) >/dev/null 2>&1 || true; fi; true'
